{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGallery/default.jpg","components/ImageGallery/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","services/imgAPI.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/Message/Message.jsx","App.js","index.js"],"names":["Searchbar","state","rovers","cameras","sol","rover","camera","handleSubmit","e","preventDefault","props","onSubmit","setState","search","this","className","alt","src","onChange","target","value","map","name","type","placeholder","React","Component","ImageGalleryItem","img","defaultProps","defaultImage","ImageGallery","images","onClick","id","img_src","ButtonLoad","Button","variant","color","axios","defaults","baseURL","params","page","api_key","getImg","a","get","data","photos","alert","propTypes","PropTypes","number","isRequired","Loader","isLoading","loading","modalRoot","document","querySelector","Modal","handleKeyClose","code","onClose","handleBackdropClose","currentTarget","onImgLoad","window","addEventListener","removeEventListener","createPortal","onLoad","Message","App","searchQuery","error","showModal","largeImg","formSubmitQuery","query","fetchImages","options","console","log","then","prevState","catch","finally","onImgClick","dataset","nodeName","toggleModal","prevProps","renderBtn","length","nothing","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.42a74fd2.chunk.js","sourcesContent":["import React from 'react';\n\nclass Searchbar extends React.Component {\n  state = {\n    rovers: ['Curiosity', 'Opportunity', 'Spirit'],\n    cameras: [\n      'MAST',\n      'FHAZ',\n      'RHAZ',\n      'CHEMCAM',\n      'MAHLI',\n      'MARDI',\n      'NAVCAM',\n      'PANCAM',\n      'MINITES',\n    ],\n    sol: 1000,\n    rover: 'Curiosity',\n    camera: 'MAST',\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    const { rover, camera, sol } = this.state;\n    this.props.onSubmit({ rover, camera, sol });\n\n    this.setState({ search: '' });\n  };\n\n  render() {\n    const { rovers, cameras, sol } = this.state;\n\n    return (\n      <header className=\"Searchbar\">\n        <img\n          className=\"nasa_logo\"\n          alt=\"nasa_logo\"\n          src=\"https://api.nasa.gov/assets/img/favicons/favicon-192.png\"\n        ></img>\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <div className=\"SearchForm_block\">\n            <h3 className=\"SearchForm_title\">Mars Rover</h3>\n            <select\n              className=\"SearchForm-input\"\n              onChange={e => this.setState({ rover: e.target.value })}\n            >\n              {rovers.map(rover => (\n                <option key={rover} value={rover}>\n                  {rover}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"SearchForm_block\">\n            <h3 className=\"SearchForm_title\">Camera</h3>\n            <select\n              className=\"SearchForm-input\"\n              onChange={e => this.setState({ camera: e.target.value })}\n            >\n              {cameras.map(camera => (\n                <option key={camera} value={camera}>\n                  {camera}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div className=\"SearchForm_block\">\n            <h3 className=\"SearchForm_title\"> Sol</h3>\n            <input\n              className=\"SearchForm-input\"\n              name=\"sol\"\n              type=\"text\"\n              placeholder=\"1000\"\n              value={sol}\n              onChange={e => this.setState({ sol: e.target.value })}\n            />\n          </div>\n          <div className=\"SearchForm_block\">\n            <button type=\"submit\" className=\"SearchForm-button\">\n              <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n          </div>\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport defaultImage from './default.jpg';\n\nclass ImageGalleryItem extends React.Component {\n  static defaultProps = {\n    img: defaultImage,\n  };\n\n  static propTypes = {\n    img: PropTypes.string.isRequired,\n  };\n\n  render() {\n    const { img } = this.props;\n\n    return (\n      <li className=\"ImageGalleryItem\">\n        <img\n          className=\"ImageGalleryItem-image\"\n          src={img}\n          alt=\"Mars_Rover_Photo\"\n          data-img={img}\n        />\n      </li>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from './ImageGalleryItem';\nimport PropTypes from 'prop-types';\n\nclass ImageGallery extends React.Component {\n  static propTypes = {\n    images: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n      }),\n    ).isRequired,\n  };\n\n  render() {\n    const { images, onClick } = this.props;\n\n    return (\n      <ul onClick={onClick} className=\"ImageGallery\">\n        {images.map(({ id, img_src }) => (\n          <ImageGalleryItem key={id} img={img_src} />\n        ))}\n      </ul>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\n// import { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nconst ButtonLoad = ({ onClick }) => {\n  return (\n    <div className=\"btnDiv\">\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        type=\"button\"\n        onClick={onClick}\n      >\n        Load more\n      </Button>\n    </div>\n  );\n};\n\nButtonLoad.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ButtonLoad;\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst BASE_URL = 'https://api.nasa.gov/mars-photos/api/v1/rovers/';\nconst API_KEY = 'DEMO_KEY';\n\naxios.defaults.baseURL = BASE_URL;\naxios.defaults.params = {\n  sol: 1000,\n  page: 1,\n  api_key: API_KEY,\n};\n\nconst getImg = async ({\n  rover = 'curiosity',\n  camera = 'MAST',\n  sol = 1000,\n  page,\n}) => {\n  try {\n    const { data } = await axios.get(`${rover}/photos/`, {\n      params: { sol, page, camera },\n    });\n    return data.photos;\n  } catch (error) {\n    alert(error);\n    return [];\n  }\n};\n\ngetImg.propTypes = {\n  // curiosity: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n  sol: PropTypes.number.isRequired,\n};\n\nexport default getImg;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PropagateLoader from 'react-spinners/PropagateLoader';\n\nconst Loader = isLoading => {\n  return (\n    <div className=\"loaderDiv\">\n      <PropagateLoader loading={isLoading} color={'red'} />\n    </div>\n  );\n};\n\nLoader.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport default Loader;\n","import React from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport Loader from '../Loader';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends React.Component {\n  static propTypes = PropTypes.shape({\n    src: PropTypes.string,\n    onClose: PropTypes.func,\n  }).isRequired;\n\n  state = {\n    isLoading: true,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyClose);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyClose);\n  }\n\n  handleKeyClose = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClose = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  onImgLoad = () => {\n    this.setState({ isLoading: false });\n  };\n\n  render() {\n    const { src } = this.props;\n    const { isLoading } = this.state;\n\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClose}>\n        <div className=\"Modal\">\n          <img src={src} alt=\"Mars_Rover_Photo\" onLoad={this.onImgLoad} />\n\n          {isLoading && <Loader isLoading={isLoading} />}\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import React from 'react';\n\nconst Message = () => {\n  return (\n    <div>\n      <h2>Explore NASA's Mars expeditions.</h2>\n      <h3>Choose Mars Rover, Camera and Sol (Mars day).</h3>\n      <p>\n        \"Curiosity\" cameras - FHAZ, RHAZ, MAST, CHEMCAM, MAHLI, MARDI, NAVCAM.\n      </p>\n      <p>\n        \"Opportunity\" and \"Spirit\" cameras - FHAZ, RHAZ, NAVCAM, PANCAM,\n        MINITES.\n      </p>\n    </div>\n  );\n};\n\nexport default Message;\n","import React from 'react';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport getImg from './services/imgAPI';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\nimport Message from './components/Message';\nimport './styles.scss';\n\nclass App extends React.Component {\n  state = {\n    searchQuery: {},\n    page: 1,\n    images: [],\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImg: { src: '' },\n  };\n\n  componentDidMount() {\n    this.fetchImages();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  formSubmitQuery = query => {\n    this.setState({ searchQuery: query, images: [], page: 1, error: null });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n    const options = { ...searchQuery, page };\n    console.log(options);\n    this.setState({ isLoading: true });\n\n    getImg(options)\n      .then(photos => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...photos],\n          page: prevState.page + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  onImgClick = e => {\n    const src = e.target.dataset.img;\n\n    if (e.target.nodeName === 'IMG') {\n      this.setState({ largeImg: { src } });\n      this.toggleModal();\n    }\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { images, isLoading, showModal, error } = this.state;\n    const { src } = this.state.largeImg;\n    const renderBtn = images.length > 24 && !isLoading;\n    const nothing = images.length === 0;\n    console.log(images);\n\n    return (\n      <div>\n        <Searchbar onSubmit={this.formSubmitQuery} />\n\n        <ImageGallery images={images} onClick={this.onImgClick} />\n\n        {isLoading && <Loader isLoading={isLoading} />}\n\n        {renderBtn && <Button onClick={this.fetchImages} />}\n\n        {showModal && <Modal src={src} onClose={this.toggleModal} />}\n\n        {error && <h1>{error}</h1>}\n\n        {nothing && <Message />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}